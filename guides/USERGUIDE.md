# User guide

This guide covers the steps required to properly configure and use beauty-on-a-pot on a linux system.

## Requirements
---

For deployment to an Apache webserver:
- A Linux system
- An apache web server installed
  - If you do not have apache installed on your linux system, you may refer to the [Apache Setup Guide](/apache_test_env/SETUP.md) to set up your webserver
  - The setup guide above also provides html files for the test environment if you would like to build the test environment

For deployment to a Nginx webserver:
  - A Linux system
  - An nginx web server with openresty installed
    - If you do not have nginx or openresty installed, you may refer to the [Nginx Setup Guide](/nginx_test_env/SETUP.md) to set up your webserver
    - The setup guide above also provides html files for the test environment if you would like to build the test environment

On the linux machine:
  - Python 3.6 and above
  - Pip for python is installed
  - Git is installed
  - Python3-tk is installed

## How to use Beauty-on-a-pot
---
1. Start the linux machine
2. Clone the GitHub repository <br>
   ```sudo git clone https://github.com/JonTJT/Beauty-on-a-pot.git```
3. Install the requirements as specified in the "requirements.txt" file <br>
   ```cd Beauty-on-a-pot```<br>
   ```sudo pip install -r requirements.txt```
4. Copy over the `template` and `src` folders, as well as the `cli.py`, `func.py` and `gui.py` files over to your html directory that contains all the files in your website.<br>
   ![File(s) to copy over](/guides/images/copied_files.png)
5. Once the files are copied over, run either the `cli.py` file or the `gui.py` file to start Beauty-on-a-pot. Take note that the python scripts should be ran with root permissions using the `sudo` command. Refer to the respective headers below on how to use the [CLI](#CLI) or [GUI](#GUI) of Beauty-on-a-pot. It is recommended to use the `gui.py` script instead for a graphical user interface.

### CLI
---
1. After running the `cli.py`, you should be greeted with a welcome banner and some options to select: <br>
   ![CLI main page](/guides/images/cli_main.png)
2. First, specify the server environment depending on whether your webserver is an Apache or and Nginx one. <br>
   ![CLI server environment](/guides/images/cli_1.png)
3. Next, specify the filepath to store the logs generated by the program. <br>
   ![CLI log filepath](/guides/images/cli_2.png)
4. Then, we will specify the generate the honeypot pages. You have the option between a "Login Page" or a "Search Bar", as well as the option to use the default template, which will not have any styling from your current webpages, or you can choose a source HTML file in which you can base the honeypot page off of. <br>
   ![CLI generating honeypot pages](/guides/images/cli_3.png)
5. The program will now generate the honeypot pages, as well as setup the logging for the webserver to log the new honeypot pages generated. This may take awhile. Once the configurations are complete, you may wish to change the filename of the page in accordance to your needs. <br>
   ![CLI generating honeypot pages](/guides/images/cli_3.1.png)<br>
   ![CLI generating honeypot pages](/guides/images/cli_3.2.png)
6. After generating some traffic in the honeypot page, you may wish to analyse the logs by generating a CSV report. You may do this by running the `cli.py` command again, repeating steps 2 and 3 to specify the server environment and the log filepath, before selecting the `4) Generate Report` option, which will generate a report and save it to `./report/{timestamp}.csv` <br>
   ![CLI generating report](/guides/images/cli_4.png)<br><br>
   Example of the report generated:
   ![CLI generated report](/guides/images/cli_4.1.png)

### GUI
1. After running the `gui.py`, you should be greeted with a user interface and some options to select:  <br>
   ![GUI main page](/guides/images/gui_main.png)
2. First, specify the server environment depending on whether your webserver is an Apache or and Nginx one. <br>
   ![GUI server environment](/guides/images/gui_1.png)
3. Next, specify the filepath to store the logs generated by the program. <br>
   ![GUI log filepath](/guides/images/gui_2.png)
4. Then, we will specify the generate the honeypot pages. You have the option between a "Login Page" or a "Search Bar", as well as the option to use the default template, which will not have any styling from your current webpages, or you can choose a source HTML file in which you can base the honeypot page off of. Click on the `Generate Honeypot Pages` button to begin the generation. <br>
   ![GUI generating honeypot pages](/guides/images/gui_3.png)
5. The program will now generate the honeypot pages, as well as setup the logging for the webserver to log the new honeypot pages generated. This may take awhile. Once the configurations are complete, you may wish to change the filename of the page in accordance to your needs.  <br>
   ![GUI generating honeypot pages](/guides/images/gui_3.1.png)

6. After generating some traffic in the honeypot page, you may wish to analyse the logs by generating a CSV report. You may do this by running the `gui.py` command again, repeating steps 2 and 3 to specify the server environment and the log filepath, before selecting the `Generate Report` button, which will generate a report and save it to `./report/{timestamp}.csv` <br>
   ![GUI generating report](/guides/images/gui_4.png)<br><br>
   Example of the report generated:
   ![GUI generated report](/guides/images/cli_4.1.png)


